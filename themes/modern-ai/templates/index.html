{% extends "base.html" %}

{% block hero %}
<section class="hero">
    <div class="container">
        <h1>{{ HERO_TITLE|default(SITENAME) }}</h1>
        <p>{{ HERO_SUBTITLE|default("Exploring the future.") }}</p>
    </div>
</section>
{% endblock %}

{% block content %}
<section class="post-list">
    <h2>Latest Posts</h2>
    <div class="grid">
        {% for article in articles_page.object_list %}
        <article class="post-card">
            {% if article.image %}
            <div class="post-card-image">
                {% if article.image.startswith('http') %}
                <img src="{{ article.image }}" alt="{{ article.title }}" loading="lazy" />
                {% else %}
                <img src="{{ SITEURL }}/{{ article.image }}" alt="{{ article.title }}" loading="lazy" />
                {% endif %}
            </div>
            {% endif %}
            <div class="post-meta">
                <time datetime="{{ article.date.isoformat() }}">{{ article.locale_date }}</time>
                <span class="category"><a href="{{ SITEURL }}/{{ article.category.url }}">{{ article.category
                        }}</a></span>
            </div>
            <h3><a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a></h3>
            <p>{{ article.summary|striptags|truncate(140) }}</p>
            <a href="{{ SITEURL }}/{{ article.url }}" class="read-more">Read Article &rarr;</a>
        </article>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if articles_page.has_other_pages() %}
    <div class="pagination">
        {% if articles_page.has_previous() %}
        {% if articles_page.previous_page_number() == 1 %}
        <a href="{{ SITEURL }}/index.html">&laquo; Newer</a>
        {% else %}
        <a href="{{ SITEURL }}/index{{ articles_page.previous_page_number() }}.html">&laquo; Newer</a>
        {% endif %}
        {% endif %}
        {% if articles_page.has_next() %}
        <a href="{{ SITEURL }}/index{{ articles_page.next_page_number() }}.html">Older &raquo;</a>
        {% endif %}
    </div>
    {% endif %}
</section>
{% endblock %}